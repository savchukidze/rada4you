## rada4you <img src="https://scontent-dfw5-2.xx.fbcdn.net/v/t1.0-9/38693370_10155596164960108_1633964967109591040_n.png?_nc_cat=0&oh=8b937da49794ca85800d38a1e1ee561a&oe=5C612F63" width="150" height="150" align="right" />


Портал "rada4you" розроблений Громадянською мережею ОПОРА та партнерами.
Дізнайся, як нардепи голосували у Раді за проекти рішень, які важливі для тебе. 
Це може тебе здивувати. Поділися з іншими, поширюй правду.

## Огляд 
Це бібліотека для роботи з API порталу "Вони голосують для тебе". Вона має 10 базових функцій. Що вони роблять?

* **`mps("key")`** - видає датафрейм із базовою інформацією про кожного народного депутата.
* **`mps_info(mp_id, "key")`** – видає датафрейм із деталізованою інформацією про кожного народного депутата.
* **`policies("key")`** – видає датафрейм із базовою інформацію про усі політики.
* **`policy_info(policy_id, "key")`** – видає датафрейм із голосуваннями, що включені до певної політики.
* **`mps_policies(mp_id, "key")`** – видає датафрейм із рівнем підтримки певного депутата кожної з політик.
* **`policy_mps(policy_id, "key")`** – видає датафрейм із рівнем підтримки політики кожним з нардепів.
* **`votings("start_date", "end_date", "key")`** – видає датафрейм з усіма голосуваннями за обраний період.
* **`voting_policies(vote_id, "key")`** – видає датафрейм із сукупністю політик до яких підв'язане голосування.
* **`voting_mps(vote_id, "key")`** – видає датафрейм із голосуванням кожного нардепа щодо певного голосування.

## УВАГА

Для роботи із бібліотекою тобі потрібен key – унікальний API ключ для роботи з порталом RADA4YOU.
Отримати ключ можна [тут](http://rada4you.org/).

## Встановлення

``` r
# install.packages("devtools")
devtools::install_github("savchukidze/rada4you")
```

## Функції

* #### `Усі депутати в парламенті`

``` r
mps("key") - видає датафрейм із базовою інформацією про кожного народного депутата, який наразі є 
членом парламенту. 

* key - персональний ключ API.
```

|Параметр|Опис|
| --- | --- |
| `mp_id` | Унікальний визначник для кожного депутата |
| `mp_name` | Ім'я та прізвище нардепа |
| `party` | Фракційність парламентаря |
| `electorate` | Спосіб обрання депутата: список/назва області |

* #### `Деталі щодо депутатів`

``` r
mps_info(mp_id, "key") – видає датафрейм із деталізованою інформацією про кожного народного депутата.

* id - вектор, який містить щонайменше один id парламентаря.
```
|Параметр|Опис|
| --- | --- |
| `mp_id` | Унікальний визначник для кожного депутата |
| `mp_name` | Ім'я та прізвище нардепа |
| `party` | Фракційність парламентаря |
| `electorate` | Спосіб обрання депутата: список/назва області |
| `rebellions` | Кількість голосувань проти лінії фракції |
| `votes_attended` | Загальна кількість голосувань |
| `votes_possible` | Кількість можливих голосувань, де нардеп міг голосувати |

* #### `Усі політики`

``` r
policies("key") – видає датафрейм із базовою інформацію про усі політики.
```
|Параметр|Опис|
| --- | --- |
| `policy_id` | Унікальний визначник для політики |
| `policy_name` | Коротка назва політики |
| `description` | Більше деталей про цю політику |
| `provisional` | TRUE або FALSE (проект політики, яка ще не завершена і не відображається за замовчуванням) |

* #### `Деталі щодо політики`

``` r
policy_details(policy_id, "key") – видає датафрейм із переліком голосувань, що включені до певної політики.

* policy_id – вектор, який містить щонайменше один id політики.
```
|Параметр|Опис|
| --- | --- |
| `policy_id` | Унікальний визначник для політики |
| `policy_name` | Коротка назва політики |
| `description` | Більше деталей про цю політику |
| `provisional` | TRUE або FALSE (проект політики, яка ще не завершена і не відображається за замовчуванням) |
| `vote__id` | Унікальний визначник для голосування |
| `vote_name` | Скорочена назва голосування |
| `date` | Дата в форматі yyyy-mm-dd |
| `time` | Час голосування в форматі hh:mm AM або hh:mm PM, чи null, якщо недоступний |
| `aye_votes` | Кількість депутатів, які проголосували “ЗА” |
| `no_votes` | Кількість депутатів, які проголосували “ПРОТИ” |
| `rebellions` | Загальна кількість голосів, які проти лінії фракції |

* #### `Рівень підтримки певного депутата кожної з політик`

``` r
mps_policies(mp_id, "key") – видає датафрейм із рівнем підтримки певного депутата кожної з політик.
```
|Параметр|Опис|
| --- | --- |
| `mp_id` | Унікальний визначник для кожного депутата |
| `mp_name` | Ім'я та прізвище нардепа |
| `party` | Фракційність парламентаря |
| `electorate` | Спосіб обрання депутата: список/назва області |
| `policy_id` | Унікальний визначник для політики |
| `policy_name` | Коротка назва політики |
| `description` | Більше деталей про цю політику |
| `provisional` | TRUE або FALSE (проект політики, яка ще не завершена і не відображається за замовчуванням) |
| `agreement` | Рівень підтримки політики нардепом у проміжку від 0 до 100 |
| `voted` | TRUE або FALSE. Показує, чи нардеп колись голосував за законопроект з цієї політики |

* #### `Рівень підтримки певної політики` кожним з нардепів`

``` r
policy_mps(policy_id, "key") – видає датафрейм із рівнем підтримки політики кожним з нардепів.
```
|Параметр|Опис|
| --- | --- |
| `policy_id` | Унікальний визначник для політики |
| `policy_name` | Коротка назва політики |
| `description` | Більше деталей про цю політику |
| `provisional` | TRUE або FALSE (проект політики, яка ще не завершена і не відображається за замовчуванням) |
| `mp_id` | Унікальний визначник для кожного депутата |
| `mp_name` | Ім'я та прізвище нардепа |
| `party` | Фракційність парламентаря |
| `electorate` | Спосіб обрання депутата: список/назва області |
| `agreement` | Рівень підтримки політики нардепом у проміжку від 0 до 100 |
| `voted` | TRUE або FALSE. Показує, чи нардеп колись голосував за законопроект з цієї політики |

* #### `Усі голосування за обраний період`
``` r
votings("start_date", "end_date", "key") – видає датафрейм з усіма голосуваннями за обраний період.

* start_date – перший день обраного періоду
* end_date – останній день обраного періоду

! end_date ≥ start_date
```

|Параметр|Опис|
| --- | --- |
| `vote_id` | Унікальний визначник для голосування |
| `vote_name` | Скорочена назва голосування |
| `date` | Дата в форматі yyyy-mm-dd |
| `time` | Час голосування в форматі hh:mm AM або hh:mm PM, чи null, якщо недоступний |
| `aye_votes` | Кількість депутатів, які проголосували “ЗА” |
| `no_votes` | Кількість депутатів, які проголосували “ПРОТИ” |
| `possible_turnout` | Кількість діючих депутатів на момент голосування |
| `rebellions` | Загальна кількість голосів, які проти лінії фракції |
| `edited` | TRUE, якщо опис голосування був відредагований |

* #### `Деталі щодо голосувань`

``` r
voting_info(vote_id, "key") – видає датафрейм із деталізованою інформацією про кожне голосування.
```
|Параметр|Опис|
| --- | --- |
| `vote_id` | Унікальний визначник для голосування |
| `vote_name` | Скорочена назва голосування |
| `date` | Дата в форматі yyyy-mm-dd |
| `time` | Час голосування в форматі hh:mm AM або hh:mm PM, чи null, якщо недоступний |
| `aye_votes` | Кількість депутатів, які проголосували “ЗА” |
| `no_votes` | Кількість депутатів, які проголосували “ПРОТИ” |
| `possible_turnout` | Кількість діючих депутатів на момент голосування |
| `rebellions` | Загальна кількість голосів, які проти лінії фракції |
| `edited` | TRUE, якщо опис голосування був відредагований |
| `summary` | Якщо edited є TRUE, тоді це остання версія опису. |
| `bill_id` | Унікальний визначник законопроекту, що пов'язаний з голосуванням |
| `bill_number` | Номер законопроекту у форматі №1234 |
| `bill_title` | Назва законопроекту |
| `bill_url` | Гіперпосилання на законопроект на сайті ВРУ |

* #### `Сукупність політик до яких підв'язане голосування`

``` r
voting_policies(vote_id, "key") – видає датафрейм із сукупністю політик, до яких підв`язане певне голосування.
```
|Параметр|Опис|
| --- | --- |
| `vote_id` | Унікальний визначник для голосування |
| `vote_name` | Скорочена назва голосування |
| `date` | Дата в форматі yyyy-mm-dd |
| `bill_number` | Номер законопроекту у форматі №1234 |
| `policy_id` | Унікальний визначник для політики |
| `policy_name` | Коротка назва політики |
| `description` | Більше деталей про цю політику |
| `provisional` | TRUE або FALSE (проект політики, яка ще не завершена і не відображається за замовчуванням) |
| `vote` | Кожне голосування має відповідне vote |
| `strong` | TRUE або FALSE. Показує важливість голосування|

* #### `Голосування депутатів`

``` r
voting_mps(vote_id, "key")`** – видає датафрейм із голосуванням кожного з депутатів щодо певного голосування.
```
|Параметр|Опис|
| --- | --- |
| `vote_id` | Унікальний визначник для голосування |
| `vote_name` | Скорочена назва голосування |
| `bill_id` | Унікальний визначник законопроекту, що пов'язаний з голосуванням |
| `bill_number` | Номер законопроекту у форматі №1234 |
| `bill_title` | Назва законопроекту |
| `date` | Дата в форматі yyyy-mm-dd |
| `mp_id` | Унікальний визначник для кожного депутата |
| `mp_name` | Ім'я та прізвище нардепа |
| `party` | Фракційність парламентаря |
| `electorate` | Спосіб обрання депутата: список/назва області |
| `vote` | Голосування депутата: aye, against, not voting, abstention |
